<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Title</title>
</head>
<body>

<script>
    function postJSON() {

      let counterElement = document.getElementById("counter");

      var data = {
        counter: counterElement.innerText
      };

      console.log(data);

      try {
        const response = fetch("ajax_call", {
          method: "POST", // or 'PUT'
          headers: {
            "Content-Type": "application/json",
          },
          body: JSON.stringify(data),
        }).then(response => {
            return response.json();
        }).then(data => {
            console.log("After response");
            console.log(data);
            counterElement.innerText = data.counter;
        });
        console.log("Success:");
      } catch (error) {
        console.error("Error:", error);
      }
    }

</script>

<p id="counter">0</p>
<button onclick="postJSON()">Click me</button>



</body>
</html>